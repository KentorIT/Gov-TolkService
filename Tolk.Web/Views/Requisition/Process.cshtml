@model Tolk.Web.Models.RequisitionProcessModel
@{
    ViewData["Title"] = "Behandla rekvisition";
}
<div class="row">
    <div class="col-sm-12">
        <h2>@ViewData["Title"]</h2>
    </div>
    <div class="col-sm-12">
        @await Html.PartialAsync("_RequisitionSummary", Model, new ViewDataDictionary(ViewData) { { "header", "Fakturaunderlag" } })
        @*bör vi visa upp kontaktperson tydligare här?*@
        @*@if (!string.IsNullOrWhiteSpace(Model.ContactPerson))
            {
                <display-entry asp-for="ContactPerson" />
            }*@
        @if (Model.PreviousRequisition != null)
        {
            <a href="@Url.Action("View", "Requisition", new { id = Model.PreviousRequisition.RequisitionId })">Se tidigare rekvisition</a>
        }

        <form method="post" asp-action="Approve">
            <input asp-for="RequisitionId" type="hidden" />
            <button class="btn btn-default btn-success btn-large pull-right">Godkänn  <span class="center-glyphicon glyphicon glyphicon-ok"></span></button>
            <button type="button" data-toggle="modal" data-target="#denyMessageDialog" class="btn deny-button btn-warning btn-large pull-left left">Underkänn</button>
        </form>
    </div>
</div>
@await Html.PartialAsync("_DenyMessageDialog", new DenyMessageDialogModel { Action = "Deny", DialogHeader = "Underkänn rekvisitionen", ParentId = Model.RequisitionId })
@section Scripts {
    <environment include="Development">
        <script src="~/js/Files.js" asp-append-version="true"></script>
    </environment>
    <environment exclude="Development">
        <script src="~/js/Files.min.js" asp-append-version="true"></script>
    </environment>
}
