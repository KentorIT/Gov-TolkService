@model Tolk.Web.Models.RequisitionViewModel

@await Html.PartialAsync("_RequisitionSummary", Model, new ViewDataDictionary(ViewData) { { "header", "Fakturaunderlag" } })
<div class="row">
    <div class="col-sm-12">
        @if (Model.AllowCreation)
        {
            <a href="@Url.Action("Create", "Requisition" , new { id=Model.RequestId })">Ersätt rekvisition</a>

        }
        @if (Model.AllowProcessing)
        {
            <form method="post" asp-action="Approve">
                <input asp-for="RequisitionId" type="hidden" />
                <button class="btn btn-default btn-success btn-large pull-right">Godkänn <span class="center-glyphicon glyphicon glyphicon-ok"></span></button>
                <button type="button" data-toggle="modal" data-target="#denyMessageDialog" class="btn deny-button btn-warning btn-large pull-left left">Underkänn</button>
            </form>
        }
        @await Html.PartialAsync("_DenyMessageDialog", new DenyMessageDialogModel { Action = "Deny", DialogHeader = "Underkänn rekvisitionen", ParentId = Model.RequisitionId })
    </div>
</div>
<div class="row">
    <div class="col-sm-12">
        @await Html.PartialAsync("_EventLog", Model.EventLog, new ViewDataDictionary(ViewData) { { "header", "Rekvisitionshändelser" }, { "id", "EventLog_Requisition" } })
    </div>
</div>
@section Scripts {
    <environment include="Development">
        <script src="~/js/Files.js" asp-append-version="true"></script>
    </environment>
    <environment exclude="Development">
        <script src="~/js/Files.min.js" asp-append-version="true"></script>
    </environment>
}
