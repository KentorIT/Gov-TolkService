@model Tolk.Web.Models.StartViewModel
@using Tolk.BusinessLogic
@using Microsoft.Extensions.Options;
@inject IOptions<Tolk.BusinessLogic.Helpers.TolkOptions> Options
@{
    ViewData["Title"] = Constants.SystemName;
}

<div class="row">
    <div class="col-md-12">
        <br />
        @if (!string.IsNullOrEmpty(@Model.Message))
        {
            <div class="panel panel-primary">
                <div class="panel-heading">
                    @Model.Message
                </div>
            </div>
        }
    </div>
</div>
<div class="row">
    <div class="col-md-8">
        <div class="row">
            @foreach (var box in Model.Boxes)
            {
                <a asp-action="@box.Action" asp-controller="@box.Controller" asp-all-route-data="box.Filters">
                    <div class="col-md-3">
                        <div class="panel panel-info center-block">
                            <div class="panel-heading">
                                <h4>@box.Header</h4>
                            </div>
                            <h1 class="shortcut-box">@box.Count.ToString()</h1>
                        </div>
                    </div>
                </a>
            }
        </div>
        @foreach (var message in Model.ConfirmationMessages)
        {
            <div class="panel panel-primary">
                <div class="panel-heading">
                    <h4>@message.Header</h4>
                </div>
                <div class="panel-body">
                    <p>@message.Message</p>
                </div>
                <div class="panel-footer">
                    <form method="post" asp-action="@message.Action" asp-controller="@message.Controller">
                        <input type="hidden" name="Id" value="@message.Id" />
                        <button type="submit" class="btn btn-primary">Ok</button>
                    </form>
                </div>
            </div>

        }
    </div>
    <div class="col-md-4">
        @foreach(var b in Options.Value.SideBar)
        {
            <div class="panel panel-info">
                <div class="panel-heading">
                    <h3>@b.Title</h3>
                </div>
                <p class="panel-body">
                    @b.Message
                </p>
            </div>
        }
    </div>
</div>
