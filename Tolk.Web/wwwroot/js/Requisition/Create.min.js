function validateControls(){checkWasteTime()&&checkTravelCosts($("#Outlay").val(),"Kontrollera värdet för utlägg (finns ingen kostnad anges 0) <br ><br >",$("#outlayValidator"))&&checkTravelCosts($("#CarCompensation").val(),"Kontrollera värdet för bilersättning (finns ingen kostnad anges 0) <br ><br >",$("#carCompensationValidator"))&&checkTravelCosts($("#PerDiem").val(),"Kontrollera värdet för traktamente (ange 0 om det inte ska erhållas något traktamente) <br ><br >",$("#perDiemValidator"))&&checkSessionEndedAt()?$("#create").attr("disabled",!1):$("#create").attr("disabled",!0)}function checkWasteTime(){var n=$("#TimeWasteTotalTime").val(),t=$("#TimeWasteIWHTime").val();return n!=""&&isNaN(parseInt(n))||t!=""&&isNaN(parseInt(t))?(triggerValidator("Spilltid måste vara ett tal, ange antal minuter <br ><br >",$("#wasteTimeValidator")),!1):n!=""&&(parseInt(n)<31||parseInt(n)>600)?(triggerValidator("Kontrollera värden för spilltid (ska endast anges om det överstiger 30 min) <br ><br >",$("#wasteTimeValidator")),!1):(n=n==""?0:n,parseInt(t)>parseInt(n)?(triggerValidator("Spilltid för obekväm tid kan inte vara större än den totala spilltiden <br ><br >",$("#wasteTimeValidator")),!1):($("#wasteTimeValidator").hide(),!0))}function checkTravelCosts(n,t,i){return n===""||isNaN(n)||parseInt(n)<0||parseInt(n)>1e5?(triggerValidator(t,i),!1):(i.hide(),!0)}function checkSessionEndedAt(){var n="#sessionEndedAtValidator";return checkSessionEndedAtBeforeNow()?checkSessionEndedAtAfterStart()?($(n).hide(),!0):(triggerValidator("Faktisk sluttid kan inte ske före faktisk starttid",$(n)),!1):(triggerValidator("Faktisk sluttid kan inte ske efter nutid",$(n)),!1)}function checkSessionEndedAtAfterStart(){var n=new Date($("#SessionEndedAt_Date").val()),t=$("#SessionEndedAt_Hour").val(),r=$("#SessionEndedAt_Minute").val(),u=new Date($("#SessionStartedAt_Date").val()),i,f;if(n!==""&&t!==""&&r!=="")if(i=$("#SessionStartedAt_Hour").val(),f=$("#SessionStartedAt_Minute").val(),n.equalsDate(new Date(u))){if(Number(i)>Number(t))return!1;if(Number(t)===Number(i))return Number(f)<Number(r)}else if(n.before(u))return!1;return!0}function checkSessionEndedAtBeforeNow(){var t=new Date($("#SessionEndedAt_Date").val()),i=$("#SessionEndedAt_Hour").val(),u=$("#SessionEndedAt_Minute").val(),n,r;if(t!==""&&i!==""&&u!=="")if(n=new Date($("#now").val()),t.equalsDate(n)){if(r=n.getHours(),r<Number(i))return!1;if(r===Number(i))return n.getMinutes()>Number(u)}else if(t.after(n))return!1;return!0}function triggerValidator(n,t){t.empty();t.append(n);t.show()}$("#TimeWasteTotalTime").change(function(){validateControls()});$("#TimeWasteIWHTime").change(function(){validateControls()});$("#Outlay").change(function(){validateControls()});$("#CarCompensation").change(function(){validateControls()});$("#PerDiem").change(function(){validateControls()});$("#SessionEndedAt").change(function(){validateControls()});$("#SessionStartedAt").change(function(){validateControls()});