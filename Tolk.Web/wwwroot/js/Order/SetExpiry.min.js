$(function(){var t=function(n,t){var i='[data-valmsg-for="'+n+'"]';$(i).empty();$(i).append(t);$(i).show()},u=function(){var n,i;if(!$("#LatestAnswerBy_Date").is(":visible"))return!0;var r=new Date($("#LatestAnswerBy_Date").val()),t=$("#LatestAnswerBy_Hour").val(),u=$("#LatestAnswerBy_Minute").val();if(r!==""&&t!==""&&u!==""&&(n=new Date($("#now").val()),r.equalsDate(n))){if(i=n.getHours(),i>Number(t))return!1;if(i===Number(t))return!(n.getMinutes()>Number(u))}return!0},f=function(){var u,n;if(!$("#LatestAnswerBy_Date").is(":visible"))return!0;var t=new Date($("#LatestAnswerBy_Date").val()),i=$("#LatestAnswerBy_Hour").val(),r=$("#LatestAnswerBy_Minute").val();return t!==""&&i!==""&&r!==""?(u=new Date($("#StartAt").val()),n=new Date(t),n.setHours(Number(i)),n.setMinutes(Number(r)),n<=u):!0},n,i,r;$("#StartAt").length>0&&(n=$("#StartAt").val().replace(" ","T").replace(" ",""),$("#StartAt").val(n),i=new Date($("#now").val()).zeroTime(),r=new Date(n).zeroTime(),$("#LatestAnswerBy_Date").datepicker("setStartDate",i),$("#LatestAnswerBy_Date").datepicker("setEndDate",r));$("body").on("click","#updateLatestAnswerBy",function(n){u()||(n.preventDefault(),t("LatestAnswerBy.Date","Ogiltig tid, kan inte sätta en tid innan nu."));f()||(n.preventDefault(),t("LatestAnswerBy.Date","Ogiltig tid, kan inte sätta en tid efter tolktillfället startar."))})});