$(function(){function i(){var n=$("#RankedInterpreterLocationFirst").val(),i=$("#RankedInterpreterLocationSecond").val(),u=$("#RankedInterpreterLocationThird").val(),t=$("#interpreterLocationValidator");n!=""&&n==i?r("Inställelsesätt i första och andra hand kan inte vara samma",t):n!=""&&n==u?r("Inställelsesätt i första och tredje hand kan inte vara samma",t):i!=""&&i==u?r("Inställelsesätt i andra och tredje hand kan inte vara samma",t):(t.hide(),$("#send").attr("disabled",!1))}function r(n,t){$("#send").attr("disabled",!0);t.empty();t.append(n);t.show()}var n=0,u=0,t;$("#competence-requested > .competence-level").each(function(){$(this).find(".select2").before('<div class="competence-ranking-num">'+ ++u+".<\/span>")});$("body").on("click",".remove-requirement-row",function(){var i=$(this).closest("tbody"),t;$(this).closest("tr").remove();t=i.find("tr");n=0;t.length===0?$(".order-requirement-list").addClass("d-none"):t.each(function(){$(this).find("input").each(function(){var t=$(this).prop("id").match(/\d+/);$(this).prop("id",$(this).prop("id").replace(t,n));$(this).prop("name",$(this).prop("name").replace(t,n))});n++})});$("body").on("click",".add-requirement-button",function(){$($(this).data("target")).find("input:not(:checkbox),select, textarea").val("");$($(this).data("target")).find("input:checkbox").prop("checked",!1);var n=$($(this).data("target")).find("form:first");$($(this).data("target")).bindEnterKey("form:first input",".btn-default");n.find(".field-validation-error").addClass("field-validation-valid").removeClass("field-validation-error").html("")});$("body").on("click",".save-requirement",function(t){var i,r;t.preventDefault();$(this).parents(".modal-content").find("form").valid()&&(i=$("#baseRequirement").clone(),i.find("input").each(function(){$(this).prop("id",$(this).prop("id").replace("0",n));$(this).prop("name",$(this).prop("name").replace("0",n))}),n++,$(this).parents(".modal-content").find("input:not(:checkbox), select, textarea").each(function(){i.find("input[name$='"+$(this).prop("id")+"']").val($(this).val())}),$(this).parents(".modal-content").find("input:checkbox").each(function(){i.find("input[name$='"+$(this).prop("id")+"']").val($(this).is(":checked")?"true":"false")}),r=$("#RequirementIsRequired").is(":checked")?"Ja":"Nej",$(".order-requirement-table > tbody:last-child").append('<tr><td class="table-type-column">'+i.html()+$("#RequirementType option:selected").text()+'<\/td><td class="table-description-column">'+$("#RequirementDescription").val()+'<\/td><td class="table-is-required-column">'+r+'<\/td><td class="table-button-column fixed"><span class="glyphicon glyphicon-trash remove-requirement-row"><\/span><\/td><\/tr>'),$(".order-requirement-list").removeClass("d-none"),$("#addRequirement").modal("hide"))});$("body").on("change","#AssignmentType",function(){$(this).val()==="Education"?($("#language-panel").collapse("hide"),t("")):($("#language-panel").collapse("show"),t($("#LanguageId").val()))});$("#RankedInterpreterLocationFirst").change(function(){i()});$("#RankedInterpreterLocationSecond").change(function(){i()});$("#RankedInterpreterLocationThird").change(function(){i()});$("body").on("change","#LanguageId",function(){t($(this).val())});$("body").on("change","#SpecificCompetenceLevelRequired",function(){this.checked?($("#competence-requested").hide(),$("#competence-required").show()):($("#competence-required").hide(),$("#competence-requested").show())});t=function(n){n===$("#OtherLanguageId").val()?$("#other-language").collapse("show"):$("#other-language").collapse("hide")};$("#SpecificCompetenceLevelRequired").trigger("change")});