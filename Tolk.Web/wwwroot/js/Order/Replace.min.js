function sanitizeTimeInput(n){if(n.indexOf(":")===-1){var t=n.length-2;n=[n.slice(0,t),":",n.slice(t)].join("")}return n.length===4&&(n=["0",n].join("")),n}$(function(){$.validator.setDefaults({ignore:":hidden:not(.force-validation)"});$.validator.addMethod("staywithin",function(t,i){var r=i.id.split("_")[0];return n(r,$(i).data("rule-otherproperty"))},$.validator.format("Not within the provided time range"));var n=function(n,t){var e=new Date($("#"+t+"_StartDate").val()).toLocaleDateString("sv-SE"),o=$("#"+t+"_StartTime").val(),u=$("#"+t+"_EndTime").val(),s=o>u,h=new Date($("#"+t+"_StartDate").val());h.setDate(h.getDate()+1);var c=h.toLocaleDateString("sv-SE"),f=new Date($("#"+n+"_StartDate").val()).toLocaleDateString("sv-SE"),i=sanitizeTimeInput($("#"+n+"_StartTime").val()),r=sanitizeTimeInput($("#"+n+"_EndTime").val());return!s&&e!==f||s&&e!==f&&f!==c?!1:s?e===f?i>=o&&(i<r||r<=u):i<u&&i<r&&r<=u:i>=o&&i<r&&r<=u};$("body").on("change",".staywithin-fields input",function(){$("#"+$(this).data("staywithin-validator")).valid()})});